---
title: èƒ½ä¸èƒ½å†™å‡ºè¿™ 40 ä¸ªå•è¡Œä»£ç ï¼Œ ç›´æŽ¥ä½“çŽ°ä¸€ä¸ªäººçš„åŸºç¡€æ°´å¹³ï¼ï¼ï¼
lang: zh-CN
author: æ©™çŒ«çŒ«
date: 2023-04-25 14:55:00
tags:
  - JavaScript
category:
  - JavaScript
---

> å“ˆå–½,å¤§å®¶å¥½ æˆ‘æ˜¯`æ©™çŒ«çŒ«ðŸ‘¨ðŸ»â€ðŸ’»ã€‚ä»Šå¤©ç»™å¤§å®¶åˆ†äº« 40+ `javascript`æ¯”è¾ƒå¥½ç”¨ä¸”å®žç”¨çš„`ä¸€è¡Œä»£ç , è®©ä½ ä¸å† 996.

## æ•°ç»„

---

### ç”Ÿæˆæ•°ç»„

å½“ä½ éœ€è¦è¦ç”Ÿæˆä¸€ä¸ª 0-99 çš„æ•°ç»„
æ–¹æ¡ˆ 1

```js
const createArr = (n) => Array.from(new Array(n), (v, i) => i);
const arr = createArr(100); // 0 - 99 æ•°ç»„
```

æ–¹æ¡ˆ 2

```js
const createArr = (n) => new Array(n).fill(0).map((v, i) => i);
createArr(100); // 0 - 99æ•°ç»„
```

### æ‰“ä¹±æ•°ç»„

å½“ä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œä½ éœ€è¦æ‰“ä¹±è¿™ä¸ªæ•°ç»„çš„æŽ’åº

```js
const randomSort = (list) => list.sort(() => Math.random() - 0.5);
randomSort([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]); // éšæœºæŽ’åˆ—ç»“æžœ
```

### æ•°ç»„åŽ»é‡

å½“ä½ éœ€è¦å°†æ•°ç»„ä¸­çš„æ‰€æœ‰é‡å¤çš„å…ƒç´ åªä¿ç•™ä¸€ä¸ª

```js
const removeDuplicates = (list) => [...new Set(list)];
removeDuplicates([0, 0, 2, 4, 5]); // [0,2,4,5]
```

### å¤šæ•°ç»„å–äº¤é›†

å½“ä½ éœ€è¦å–å¤šä¸ªæ•°ç»„ä¸­çš„äº¤é›†

```js
const intersection = (a, ...arr) =>
  [...new Set(a)].filter((v) => arr.every((b) => b.includes(v)));

intersection([1, 2, 3, 4], [2, 3, 4, 7, 8], [1, 3, 4, 9]);
// [3, 4]
```

### æŸ¥æ‰¾æœ€å¤§å€¼ç´¢å¼•

ä½†ä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€å¤§å€¼çš„ç´¢å¼•

```js
const indexOfMax = (arr) =>
  arr.reduce((prev, curr, i, a) => (curr > a[prev] ? i : prev), 0);
indexOfMax([1, 3, 9, 7, 5]); // 2
```

### æŸ¥æ‰¾æœ€å°å€¼ç´¢å¼•

å½“ä½ éœ€è¦æ‰¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­çš„æœ€å°å€¼çš„ç´¢å¼•

```js
const indexOfMin = (arr) =>
  arr.reduce((prev, curr, i, a) => (curr < a[prev] ? i : prev), 0);
indexOfMin([2, 5, 3, 4, 1, 0, 9]); // 5
```

### æ‰¾åˆ°æœ€æŽ¥è¿‘çš„æ•°å€¼

å½“ä½ éœ€è¦åœ¨ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€æŽ¥è¿‘çš„å€¼

```js
const closest = (arr, n) =>
  arr.reduce((prev, curr) =>
    Math.abs(curr - n) < Math.abs(prev - n) ? curr : prev
  );
closest([29, 87, 8, 78, 97, 20, 75, 33, 24, 17], 50); // 33
```

### åŽ‹ç¼©å¤šä¸ªæ•°ç»„

å½“ä½ éœ€è¦å°†å¤šä¸ªæ•°ç»„åŽ‹ç¼©æˆä¸€ä¸ªæ•°ç»„

```js
const zip = (...arr) =>
  Array.from({ length: Math.max(...arr.map((a) => a.length)) }, (_, i) =>
    arr.map((a) => a[i])
  );
zip([1, 2, 3, 4], ["a", "b", "c", "d"], ["A", "B", "C", "D"]);
// [[1, 'a', 'A'], [2, 'b', 'B'], [3, 'c', 'C'], [4, 'd', 'D']]
```

### çŸ©é˜µäº¤æ¢è¡Œå’Œåˆ—

å½“ä½ éœ€è¦å°†ä¸€ä¸ªçŸ©é˜µçš„è¡Œå’Œåˆ—è¿›è¡Œäº’ç›¸äº¤æ¢

```js
const transpose = (matrix) =>
  matrix[0].map((col, i) => matrix.map((row) => row[i]));
transpose(
  [
    // [
    [1, 2, 3], //      [1, 4, 7],
    [4, 5, 6], //      [2, 5, 8],
    [7, 8, 9], //      [3, 6, 9],
  ] //  ]
);
```

## æ•°å­—è½¬æ¢

---

### è¿›åˆ¶è½¬æ¢

å°† 10 è¿›åˆ¶è½¬æ¢æˆ n è¿›åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ toString(n)

```js
const toDecimal = (num, n = 10) => num.toString(n);
// å‡è®¾æ•°å­—10è¦è½¬æ¢æˆ2è¿›åˆ¶
toDecimal(10, 2); // '1010'
```

å°† n è¿›åˆ¶è½¬æ¢æˆ 10 è¿›åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨ parseInt(num, n)

```js
// 10çš„2è¿›åˆ¶ä¸º1010
const toDecimalism = (num, n = 10) => parseInt(num, n);
toDecimalism(1010, 2);
```

## æ­£åˆ™

---

### æ‰‹æœºå·æ ¼å¼åŒ–

å½“ä½ éœ€è¦å°†æ‰‹æœºå·ç æ ¼å¼åŒ–æˆ xxx-xxxx-xxxx çš„å½¢å¼

```js
const formatPhone = (str, sign = "-") =>
  str
    .replace(/(\W|\s)/g, "")
    .split(/^(\d{3})(\d{4})(\d{4})$/)
    .filter((item) => item)
    .join(sign);

formatPhone("13123456789"); // '131-2345-6789'
formatPhone("13 1234 56 789", " "); // '131 2345 6789'
```

### åŽ»é™¤å¤šä½™ç©ºæ ¼

å½“ä½ éœ€è¦å°†ä¸€æ®µæ–‡æœ¬ä¸­çš„å¤šä¸ªç©ºæ ¼åˆå¹¶æˆä¸€ä¸ªç©ºæ ¼

```js
const setTrimOut = (str) => str.replace(/\s\s+/g, " ");
const str = setTrimOut("hello,   jack"); //
```

## web

---

### é‡æ–°åŠ è½½å½“å‰é¡µé¢

```js
const reload = () => location.reload();
reload();
```

### æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨

å¦‚æžœä½ éœ€è¦å°†é¡µé¢ç¿»åˆ°æœ€é¡¶éƒ¨

```js
const goToTop = () => window.scrollTo(0, 0);
goToTop();
```

### å…ƒç´ æ»šåŠ¨

å¦‚æžœä½ å¸Œæœ›å°†ä¸€ä¸ªå…ƒç´ é¡ºæ»‘çš„æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸçš„èµ·ç‚¹

```js
const scrollToTop = (element) =>
  element.scrollIntoView({ behavior: "smooth", block: "start" });
scrollToTop(document.body);
```

å¦‚æžœä½ å¸Œæœ›å°†ä¸€ä¸ªå…ƒç´ é¡ºæ»‘çš„æ»šåŠ¨åˆ°å¯è§†åŒºåŸŸçš„ç»ˆç‚¹

```js
const scrollToBottom = (element) =>
  element.scrollIntoView({ behavior: "smooth", block: "end" });
scrollToBottom(document.body);
```

### æ£€æŸ¥å½“å‰æ˜¯å¦ IE æµè§ˆå™¨

```js
const isIE = !!document.documentMode;
```

### ä»Žç»™å®šæ–‡æœ¬ä¸­å‰¥ç¦» html

å½“ä½ éœ€è¦åœ¨æŸä¸ªæ–‡æœ¬ä¸­å°†é‡Œé¢çš„æ ‡ç­¾å…¨éƒ¨è¿‡æ»¤æŽ‰

```js
const stripHtml = (html) =>
  new DOMParser().parseFromString(html, "text/html").body.textContent || "";
stripHtml("<div>test</div>"); // 'test'
```

### é‡å®šå‘

å½“ä½ éœ€è¦è·³è½¬åˆ°å…¶ä»–é¡µé¢

```js
const goTo = (url) => (location.href = url);
```

### æ–‡æœ¬ç²˜è´´

å½“ä½ éœ€è¦å¤åˆ¶æ–‡æœ¬åˆ°ç²˜è´´æ¿ä¸Š

```js
const copy = (text) =>
  navigator.clipboard?.writeText && navigator.clipboard.writeText(text);
copy("ä½ éœ€è¦ç²˜è´´çš„æ–‡æœ¬");
```

## æ—¥æœŸ

---

### åˆ¤æ–­æ—¥æœŸæ˜¯å¦ä¸ºä»Šå¤©

```js
const isToday = (date) =>
  date.toISOString().slice(0, 10) === new Date().toISOString().slice(0, 10);
```

### æ—¥æœŸè½¬æ¢

å½“ä½ éœ€è¦å°†æ—¥æœŸè½¬æ¢ä¸ºä¸º YYYY-MM-DD æ ¼å¼

```js
const formatYmd = (date) => date.toISOString().slice(0, 10);
formatYmd(new Date());
```

### ç§’æ•°è½¬æ¢

å½“ä½ éœ€è¦å°†ç§’æ•°è½¬æ¢ä¸º hh:mm:ss æ ¼å¼

```js
const formatSeconds = (s) => new Date(s * 1000).toISOString().substr(11, 8);
formatSeconds(200); // 00:03:20
```

### èŽ·å–æŸå¹´æŸæœˆçš„ç¬¬ä¸€å¤©

å½“ä½ éœ€è¦èŽ·å–æŸå¹´æŸæœˆçš„ç¬¬ä¸€å¤©

```js
const getFirstDate = (d = new Date()) =>
  new Date(d.getFullYear(), d.getMonth(), 1);
getFirstDate(new Date("2022-04")); // Fri Apr 01 2022 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

### èŽ·å–æŸå¹´æŸæœˆçš„æœ€åŽä¸€å¤©

å½“ä½ éœ€è¦èŽ·å–æŸå¹´æŸæœˆçš„æœ€åŽä¸€å¤©

```js
const getLastDate = (d = new Date()) =>
  new Date(d.getFullYear(), d.getMonth() + 1, 0);
getLastDate(new Date("2023-03-04")); // Fri Mar 31 2023 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
```

### èŽ·å–æŸå¹´æœˆä»½å¤©æ•°

å½“ä½ éœ€è¦èŽ·å–æŸå¹´æŸä¸ªæœˆä»½çš„æ€»å¤©æ•°

```js
const getDaysNum = (year, month) => new Date(year, month, 0).getDate();
const day = getDaysNum(2024, 2); // 29
```

## å‡½æ•°

---

### å¼‚æ­¥å‡½æ•°åˆ¤æ–­

åˆ¤æ–­ä¸€ä¸ªå‡½æ•°æ˜¯å¦å±žäºŽå¼‚æ­¥å‡½æ•°

```js
const isAsyncFunction = (v) =>
  Object.prototype.toString.call(v) === "[object AsyncFunction]";
isAsyncFunction(async function () {}); // true
```

## æ•°å­—

---

### æˆªæ–­æ•°å­—

å½“ä½ éœ€è¦å°†å°æ•°ç‚¹åŽçš„æŸäº›æ•°å­—æˆªæ–­è€Œä¸å–å››èˆäº”å…¥

```js
const toFixed = (n, fixed) =>
  `${n}`.match(new RegExp(`^-?\d+(?:.\d{0,${fixed}})?`))[0];
toFixed(10.255, 2); // 10.25
```

### å››èˆäº”å…¥

å½“ä½ éœ€è¦å°†å°æ•°ç‚¹åŽçš„æŸäº›æ•°å­—æˆªæ–­ï¼Œå¹¶å–å››èˆäº”å…¥

```js
const round = (n, decimals = 0) =>
  Number(`${Math.round(`${n}e${decimals}`)}e-${decimals}`);
round(10.255, 2); // 10.26
```

### è¡¥é›¶

å½“ä½ éœ€è¦åœ¨ä¸€ä¸ªæ•°å­— num ä¸è¶³ len ä½æ•°çš„æ—¶å€™å‰é¢è¡¥é›¶æ“ä½œ

```js
const replenishZero = (num, len, zero = 0) =>
  num.toString().padStart(len, zero);
replenishZero(8, 2); // 08
```

## å¯¹è±¡

---

### åˆ é™¤æ— æ•ˆå±žæ€§

å½“ä½ éœ€è¦åˆ é™¤ä¸€ä¸ªå¯¹è±¡ä¸­çš„å±žæ€§å€¼ä¸º null æˆ– undefined çš„æ‰€æœ‰å±žæ€§

```js
const removeNullUndefined = (obj) =>
  Object.entries(obj).reduce(
    (a, [k, v]) => (v == null ? a : ((a[k] = v), a)),
    {}
  );

removeNullUndefined({ name: "", age: undefined, sex: null }); // { name: '' }
```

### åè½¬å¯¹è±¡é”®å€¼

å½“ä½ éœ€è¦å°†å¯¹è±¡çš„é”®å€¼å¯¹äº¤æ¢

```js
const invert = (obj) =>
  Object.keys(obj).reduce((res, k) => Object.assign(res, { [obj[k]]: k }), {});
invert({ name: "jack" }); // {jack: 'name'}
```

### å­—ç¬¦ä¸²è½¬å¯¹è±¡

å½“ä½ éœ€è¦å°†ä¸€ä¸²å­—ç¬¦ä¸²æ¯”å¦‚'{name: "jack"}'è½¬æ¢æˆå¯¹è±¡æ—¶ï¼Œç›´æŽ¥ä½¿ç”¨ JSON.parse å°†ä¼šæŠ¥é”™ã€‚

```js
const strParse = (str) =>
  JSON.parse(
    str.replace(/(\w+)\s*:/g, (_, p1) => `"${p1}":`).replace(/\'/g, '"')
  );

strParse('{name: "jack"}');
```

## å…¶ä»–

---

### æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡

å½“ä½ éœ€è¦æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ï¼Œjs çš„ç­‰äºŽåªèƒ½åˆ¤æ–­å¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸åŒï¼Œå½“åœ°å€ä¸ç›¸åŒçš„æ—¶å€™æ— æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„é”®å€¼å¯¹æ˜¯å¦ä¸€è‡´ã€‚

```js
const isEqual = (...objects) =>
  objects.every((obj) => JSON.stringify(obj) === JSON.stringify(objects[0]));
isEqual({ name: "jack" }, { name: "jack" }); // true
isEqual({ name: "jack" }, { name: "jack1" }, { name: "jack" }); // false
```

### éšæœºé¢œè‰²ç”Ÿæˆ

å½“ä½ éœ€è¦èŽ·å–ä¸€ä¸ªéšæœºé¢œè‰²

```js
const getRandomColor = () =>
  `#${Math.floor(Math.random() * 0xffffff).toString(16)}`;
getRandomColor(); // '#4c2fd7'
```

### é¢œè‰²æ ¼å¼è½¬æ¢

å½“ä½ éœ€è¦å°† 16 è¿›åˆ¶çš„é¢œè‰²è½¬æ¢æˆ rgb

```js
const hexToRgb = (hex) =>
  hex
    .replace(
      /^#?([a-f\d])([a-f\d])([a-f\d])$/i,
      (_, r, g, b) => `#${r}${r}${g}${g}${b}${b}`
    )
    .substring(1)
    .match(/.{2}/g)
    .map((x) => parseInt(x, 16));
hexToRgb("#00ffff"); // [0, 255, 255]
hexToRgb("#0ff"); // [0, 255, 255]
```

### èŽ·å–éšæœº ip

å½“ä½ éœ€è¦ç”Ÿæˆä¸€ä¸ª ip åœ°å€

```js
const randomIp = () =>
  Array(4)
    .fill(0)
    .map((_, i) => Math.floor(Math.random() * 255) + (i === 0 ? 1 : 0))
    .join(".");
```

### uuid

å½“ä½ éœ€è¦ç”Ÿæˆä¸€ä¸ª id

```js
const uuid = (a) =>
  a
    ? (a ^ ((Math.random() * 16) >> (a / 4))).toString(16)
    : ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, uuid);
uuid();
```

### èŽ·å– cookie

å½“ä½ éœ€è¦å°† cookie è½¬æ¢æˆå¯¹è±¡

```js
const getCookie = () =>
  document.cookie
    .split(";")
    .map((item) => item.split("="))
    .reduce((acc, [k, v]) => (acc[k.trim().replace('"', "")] = v) && acc, {});

getCookie();
```

### å¼ºåˆ¶ç­‰å¾…

å½“ä½ éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œä½†åˆä¸æƒ³å†™åœ¨ setTimeout å‡½æ•°ä¸­ï¼Œé€ æˆå›žè°ƒåœ°ç‹±

```js
const sleep = async (t) => new Promise((resolve) => setTimeout(resolve, t));
sleep(2000).then(() => {
  console.log("time");
});
```

> æœ¬æ–‡è½¬è½½è‡ªï¼šhttps://juejin.cn/post/7228449980108423224 ä½œè€…ï¼šsimple_lau
