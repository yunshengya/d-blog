import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o as p,c,a as n,b as s,d as o,e as l}from"./app-1c49d7d2.js";const i="/assets/2023052401-9fa6a572.png",u={},d=l(`<p>Vue 3 å·²ç»ç¨³å®šäº†ç›¸å½“é•¿ä¸€æ®µæ—¶é—´äº†ã€‚è®¸å¤šä»£ç åº“éƒ½åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒï¼Œå…¶ä»–äººæœ€ç»ˆéƒ½å°†ä¸å¾—ä¸è¿ç§»åˆ° Vue 3ã€‚æˆ‘ç°åœ¨æœ‰æœºä¼šä½¿ç”¨å®ƒå¹¶è®°å½•äº†æˆ‘çš„é”™è¯¯ï¼Œä¸‹é¢è¿™äº›é”™è¯¯ä½ å¯èƒ½æƒ³è¦é¿å…ã€‚</p><h2 id="ä½¿ç”¨-reactive-å£°æ˜åŸå§‹å€¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-reactive-å£°æ˜åŸå§‹å€¼" aria-hidden="true">#</a> ä½¿ç”¨ Reactive å£°æ˜åŸå§‹å€¼</h2><hr><p>æ•°æ®å£°æ˜åœ¨è¿‡å»éƒ½æ˜¯éå¸¸ç›´æ¥çš„ï¼Œä½†æ˜¯ç°åœ¨æœ‰å¾ˆå¤šå¸®åŠ©å‡½æ•°ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚ç›®å‰çš„è§„åˆ™æ˜¯ï¼š</p><ul><li>ä½¿ç”¨<code>reactive</code>å£°æ˜<code>Object, Array, Map, Set</code></li><li>ä½¿ç”¨<code>ref</code>å£°æ˜<code>String, Number, Boolean</code></li></ul><p>ä¸ºä¸€ä¸ªåŸå§‹å€¼ä½¿ç”¨<code>reactive</code>ä¼šè¿”å›ä¸€ä¸ªè­¦å‘Šï¼Œå¹¶ä¸”è¯¥å€¼ä¸ä¼šæˆä¸ºå¯å“åº”å¼æ•°æ®ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>/* DOES NOT WORK AS EXPECTED */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>[Vue warn]: value cannot be made reactive</p></blockquote><p>çŸ›ç›¾çš„æ˜¯ï¼Œå¦ä¸€ç§æ–¹å¼æ˜¯å¯è¡Œçš„ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨<code>ref</code>æ¥å£°æ˜ä¸€ä¸ª<code>Array</code>ä¼šåœ¨å†…éƒ¨è°ƒç”¨<code>reactive</code>ã€‚</p><h2 id="è§£æ„å“åº”å¼æ•°æ®" tabindex="-1"><a class="header-anchor" href="#è§£æ„å“åº”å¼æ•°æ®" aria-hidden="true">#</a> è§£æ„å“åº”å¼æ•°æ®</h2><hr><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªå“åº”å¼å¯¹è±¡æ‹¥æœ‰<code>count</code>å±æ€§ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªæŒ‰é’®æ¥é€’å¢<code>count</code>ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  Counter: {{ state.count }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Increase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">,</span>
      add<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°é€»è¾‘ç›¸å½“ç›´æ¥ï¼Œè€Œä¸”å¦‚é¢„æœŸçš„é‚£æ ·å·¥ä½œï¼Œä½†ä½ å¯èƒ½ä¼šåˆ©ç”¨ javascript çš„è§£æ„æ¥åšä»¥ä¸‹äº‹æƒ…ï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>/* DOES NOT WORK AS EXPECTED */
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>Counter: {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Increase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>state<span class="token punctuation">,</span>
      add<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„ï¼Œè€Œä¸”æ ¹æ®æˆ‘ä»¬ä»¥å‰çš„ç»éªŒåº”è¯¥æ˜¯å¯è¡Œçš„ï¼Œä½†äº‹å®ä¸Šï¼ŒVue çš„å“åº”å¼è·Ÿè¸ªæ˜¯é€šè¿‡å±æ€§è®¿é—®è¿›è¡Œçš„ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¸èƒ½èµ‹å€¼æˆ–è§£æ„ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå› ä¸ºä¸ç¬¬ä¸€ä¸ªå¼•ç”¨çš„å“åº”å¼è¿æ¥å·²ç»æ–­å¼€ã€‚è¿™å°±æ˜¯ä½¿ç”¨å“åº”å¼å¸®åŠ©å‡½æ•°çš„å±€é™æ€§ä¹‹ä¸€ã€‚</p><h2 id="å¯¹-value-æ„Ÿåˆ°å›°æƒ‘" tabindex="-1"><a class="header-anchor" href="#å¯¹-value-æ„Ÿåˆ°å›°æƒ‘" aria-hidden="true">#</a> å¯¹.value æ„Ÿåˆ°å›°æƒ‘</h2><hr><p>åŒæ ·çš„ï¼Œä½¿ç”¨<code>ref</code>çš„ä¸€ä¸ªæ€ªå¼‚æ¨¡å¼å¯èƒ½ä¹Ÿå¾ˆéš¾ä¹ æƒ¯ã€‚</p><p><code>Ref</code>æ¥æ”¶ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›å“åº”å¼å¯¹è±¡ã€‚è¯¥å€¼åœ¨å¯¹è±¡å†…éƒ¨çš„<code>.value</code>å±æ€§ä¸‹å¯ç”¨ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>const count = ref(0) console.log(count) // { value: 0 } console.log(count.value)
// 0 count.value++ console.log(count.value) // 1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯<code>ref</code>åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­ä½¿ç”¨æ—¶ä¼šè¢«è§£åŒ…ï¼Œå¹¶ä¸”ä¸éœ€è¦<code>.value</code>ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  count<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ count }} // no .value needed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯è¦å°å¿ƒäº†ï¼è§£åŒ…åªåœ¨é¡¶çº§å±æ€§ä¸­ç”Ÿæ•ˆã€‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µä¼šç”Ÿæˆ<code>[object Object]</code>ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>// DON&#39;T DO THIS
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>{{ object.foo + 1 }} // [object Object]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£ç¡®åœ°ä½¿ç”¨<code>.value</code>éœ€è¦æ—¶é—´ã€‚å°½ç®¡æŸäº›æ—¶å€™æˆ‘ä¼šå¿˜è®°å¦‚ä½•ä½¿ç”¨ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒçš„é¢‘ç‡è¶Šæ¥è¶Šé«˜ã€‚</p><h2 id="è§¦å‘äº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#è§¦å‘äº‹ä»¶" aria-hidden="true">#</a> è§¦å‘äº‹ä»¶</h2><hr><p>è‡ªä» Vue çš„æœ€åˆå‘å¸ƒä»¥æ¥ï¼Œå­ç»„ä»¶å°±å¯ä»¥ä¸çˆ¶ç»„ä»¶ä½¿ç”¨<code>emit</code>æ¥é€šä¿¡ã€‚ä½ åªéœ€è¦æ·»åŠ è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬å™¨æ¥ç›‘å¬ä¸€ä¸ªäº‹ä»¶ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>// å­ç»„ä»¶ this.$emit(&#39;my-event&#39;) // çˆ¶ç»„ä»¶
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">@my-event</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>doSomething<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œ<code>emit</code>éœ€è¦ä½¿ç”¨<code>defineEmits</code>æ¥è¿›è¡Œå£°æ˜ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;my-event&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;my-event&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦ä¸€ä»¶è¦è®°ä½çš„äº‹æƒ…æ˜¯ï¼Œ<code>defineEmits</code>å’Œ<code>defineProps</code>éƒ½ä¸éœ€è¦è¢«å¯¼å…¥ã€‚å®ƒä»¬åœ¨ä½¿ç”¨<code>script setup</code>æ—¶è‡ªåŠ¨å¯ç”¨ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;delete&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// setup code</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åï¼Œç”±äºäº‹ä»¶ç°åœ¨å¿…é¡»è¢«å£°æ˜ï¼Œæ‰€ä»¥ä¸éœ€è¦ä½¿ç”¨<code>.native</code>ä¿®é¥°ç¬¦ï¼Œäº‹å®ä¸Šå®ƒå·²ç»è¢«ç§»é™¤äº†ã€‚</p><h2 id="å£°æ˜é™„åŠ é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#å£°æ˜é™„åŠ é€‰é¡¹" aria-hidden="true">#</a> å£°æ˜é™„åŠ é€‰é¡¹</h2><hr><p>Options API æ–¹æ³•æœ‰å‡ ä¸ªå±æ€§åœ¨<code>script setup</code>ä¸­æ˜¯ä¸è¢«æ”¯æŒçš„ã€‚</p><ul><li><code>name</code></li><li><code>inheritAttrs</code></li><li>æ’ä»¶æˆ–åº“æ‰€éœ€çš„è‡ªå®šä¹‰é€‰é¡¹</li></ul><p>è§£å†³åŠæ³•æ˜¯æŒ‰ç…§<code>script setup</code>RFC çš„<strong>å®šä¹‰</strong>[1]ï¼Œåœ¨åŒä¸€ä¸ªç»„ä»¶ä¸­è®¾ç½®ä¸¤ä¸ªä¸åŒçš„è„šæœ¬ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;CustomName&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inheritAttrs</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">customOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// script setup logic</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨å“åº”å¼è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å“åº”å¼è½¬æ¢" aria-hidden="true">#</a> ä½¿ç”¨å“åº”å¼è½¬æ¢</h2><hr><p>Reactivity Transform æ˜¯ Vue 3 çš„ä¸€ä¸ª<strong>å®éªŒæ€§ä½†æœ‰äº‰è®®çš„åŠŸèƒ½</strong>[2]ï¼Œç›®çš„æ˜¯ç®€åŒ–ç»„ä»¶çš„å£°æ˜æ–¹å¼ã€‚å®ƒçš„æƒ³æ³•æ˜¯åˆ©ç”¨ç¼–è¯‘æ—¶çš„è½¬æ¢æ¥è‡ªåŠ¨è§£åŒ…ä¸€ä¸ª<code>ref</code>ï¼Œå¹¶ä½¿<code>.value</code>è¿‡æ—¶ã€‚ä½†ç°åœ¨å®ƒè¢«æ”¾å¼ƒäº†ï¼Œå¹¶å°†åœ¨ Vue 3.3 ä¸­è¢«åˆ é™¤ã€‚å®ƒä»ç„¶å¯ä»¥ä½œä¸ºä¸€ä¸ªåŒ…ä½¿ç”¨ï¼Œä½†ç”±äºå®ƒä¸æ˜¯ Vue æ ¸å¿ƒçš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦åœ¨å®ƒèº«ä¸ŠæŠ•å…¥æ—¶é—´ã€‚</p><h2 id="å®šä¹‰å¼‚æ­¥ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰å¼‚æ­¥ç»„ä»¶" aria-hidden="true">#</a> å®šä¹‰å¼‚æ­¥ç»„ä»¶</h2><hr><p>ä»¥å‰çš„å¼‚æ­¥ç»„ä»¶æ˜¯é€šè¿‡å°†å…¶åŒ…å«åœ¨ä¸€ä¸ªå‡½æ•°ä¸­æ¥å£°æ˜çš„ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>const asyncModal = () =&gt; import(&#39;./Modal.vue&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä» Vue 3 å¼€å§‹ï¼Œå¼‚æ­¥ç»„ä»¶éœ€è¦ä½¿ç”¨<code>defineAsyncComponent</code>å¸®åŠ©å‡½æ•°æ¥æ˜¾å¼åœ°å®šä¹‰ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>import { defineAsyncComponent } from &#39;vue&#39; const asyncModal =
defineAsyncComponent(() =&gt; import(&#39;./Modal.vue&#39;))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤šä½™çš„åŒ…è£¹å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤šä½™çš„åŒ…è£¹å…ƒç´ " aria-hidden="true">#</a> åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤šä½™çš„åŒ…è£¹å…ƒç´ </h2><hr><p>åœ¨ Vue 2 ä¸­ï¼Œç»„ä»¶æ¨¡æ¿éœ€è¦ä¸€ä¸ªå•ä¸€çš„æ ¹å…ƒç´ ï¼Œè¿™æœ‰æ—¶ä¼šå¼•å…¥ä¸å¿…è¦çš„åŒ…è£¹å…ƒç´ ã€‚</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- Layout.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ä¸å†éœ€è¦è¿™æ ·äº†ï¼Œå› ä¸ºç°åœ¨æ”¯æŒå¤šä¸ªæ ¹å…ƒç´ ã€‚ğŸ¥³</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token comment">&lt;!-- Layout.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">v-bind</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>footer</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>footer</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨é”™è¯¯çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨é”™è¯¯çš„ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true">#</a> ä½¿ç”¨é”™è¯¯çš„ç”Ÿå‘½å‘¨æœŸ</h2><hr><p>æ‰€æœ‰çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸäº‹ä»¶éƒ½è¢«é‡æ–°å‘½åï¼Œè¦ä¹ˆæ·»åŠ <code>on</code>å‰ç¼€ï¼Œè¦ä¹ˆå®Œå…¨æ”¹å˜åç§°ã€‚ä½ å¯ä»¥åœ¨ä¸‹é¢çš„å›¾è¡¨ä¸­æŸ¥çœ‹æ‰€æœ‰çš„å˜åŒ–ã€‚</p><figure><img src="`+i+'" alt="å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>å›¾ç‰‡</figcaption></figure><h2 id="ä¸çœ‹æ–‡æ¡£" tabindex="-1"><a class="header-anchor" href="#ä¸çœ‹æ–‡æ¡£" aria-hidden="true">#</a> ä¸çœ‹æ–‡æ¡£</h2><hr><p>æœ€åï¼Œå®˜æ–¹æ–‡æ¡£å·²ç»è¿›è¡Œäº†ä¿®æ”¹ä»¥åæ˜ æ–°çš„ APIï¼Œå¹¶åŒ…æ‹¬è®¸å¤šæœ‰ä»·å€¼çš„è¯´æ˜ã€æŒ‡å—å’Œæœ€ä½³å®è·µã€‚å³ä½¿ä½ æ˜¯ä¸€ä¸ªç»éªŒä¸°å¯Œçš„ Vue 2 å·¥ç¨‹å¸ˆï¼Œä½ ä¹Ÿä¸€å®šä¼šé€šè¿‡é˜…è¯»æ–‡æ¡£å­¦åˆ°ä¸€äº›æ–°ä¸œè¥¿ã€‚</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><hr><p>æ¯ä¸ªæ¡†æ¶éƒ½æœ‰ä¸€ä¸ªå­¦ä¹ æ›²çº¿ï¼Œè€Œ Vue 3 çš„å­¦ä¹ æ›²çº¿æ— ç–‘æ¯” Vue 2 çš„æ›´é™¡å³­ã€‚æˆ‘ä»ç„¶ä¸ç›¸ä¿¡ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„è¿ç§»å·¥ä½œæ˜¯åˆç†çš„ï¼Œä½†ç»„åˆå¼ API è¦æ•´æ´å¾—å¤šï¼Œåœ¨ä½ æŒæ¡äº†å®ƒä¹‹åä¼šæ„Ÿè§‰å¾ˆè‡ªç„¶ã€‚</p><p>æœ€åï¼Œè¯·è®°ä½ï¼š</p><blockquote><p>çŠ¯é”™æ¯”ä»€ä¹ˆéƒ½ä¸åšè¦å¥½å¾—å¤šã€‚</p><p>Making mistakes is a lot better than not doing anything.</p></blockquote>',68),r={href:"https://fadamakis.com/10-mistakes-to-avoid-when-starting-with-vue-3-1d1ced8552ae**%5B3%5D",target:"_blank",rel:"noopener noreferrer"},k=n("li",null,"ä½œè€…ï¼šFotis Adamakis",-1),v=n("p",null,"ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ã€‚å¦‚æœå¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿æ”¶è—ã€è½¬å‘~",-1);function g(m,b){const a=e("ExternalLinkIcon");return p(),c("div",null,[d,n("ul",null,[n("li",null,[s("åŸæ–‡é“¾æ¥ï¼š**"),n("a",r,[s("https://fadamakis.com/10-mistakes-to-avoid-when-starting-with-vue-3-1d1ced8552ae**[3]"),o(a)])]),k]),v])}const y=t(u,[["render",g],["__file","1.html.vue"]]);export{y as default};
